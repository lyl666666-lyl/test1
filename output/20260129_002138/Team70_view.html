<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team70 - 20260129_002138 | SimRobot ÂèØËßÜÂåñ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .controls {
            padding: 20px 30px;
            background: #f8f9fa;
            border-bottom: 2px solid #e9ecef;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .control-group label {
            font-weight: 600;
            color: #495057;
        }
        
        select, button {
            padding: 10px 20px;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        select {
            background: white;
        }
        
        select:hover {
            border-color: #667eea;
        }
        
        button {
            background: #667eea;
            color: white;
            border: none;
            font-weight: 600;
        }
        
        button:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        button:active {
            transform: translateY(0);
        }
        
        .content {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 20px;
            padding: 30px;
        }
        
        .field-container {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        #field {
            background: #2d5016;
            border: 4px solid white;
            border-radius: 8px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        
        .info-panel {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .info-card {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 20px;
            border-left: 4px solid #667eea;
        }
        
        .info-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .info-row {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #dee2e6;
        }
        
        .info-row:last-child {
            border-bottom: none;
        }
        
        .info-label {
            font-weight: 600;
            color: #495057;
        }
        
        .info-value {
            color: #6c757d;
            font-family: 'Courier New', monospace;
        }
        
        .robot-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .robot-item {
            padding: 12px;
            background: white;
            border-radius: 8px;
            border: 2px solid #dee2e6;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .robot-item:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }
        
        .robot-item.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .timeline {
            margin-top: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
        }
        
        .timeline-bar {
            width: 100%;
            height: 40px;
            background: #e9ecef;
            border-radius: 8px;
            position: relative;
            cursor: pointer;
        }
        
        .timeline-progress {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            transition: width 0.1s;
        }
        
        .timeline-marker {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 20px;
            background: white;
            border: 3px solid #667eea;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;
            margin-top: 10px;
        }
        
        .stat-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #667eea;
        }
        
        .stat-label {
            font-size: 0.9em;
            color: #6c757d;
            margin-top: 5px;
        }
        
        @media (max-width: 1200px) {
            .content {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ü§ñ Team70</h1>
            <p>ÊØîËµõ ID: 20260129_002138</p>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <label>ÈÄâÊã©Êú∫Âô®‰∫∫:</label>
                <select id="robotSelect"></select>
            </div>
            <div class="control-group">
                <button id="playBtn">‚ñ∂Ô∏è Êí≠Êîæ</button>
                <button id="pauseBtn">‚è∏Ô∏è ÊöÇÂÅú</button>
                <button id="resetBtn">üîÑ ÈáçÁΩÆ</button>
            </div>
            <div class="control-group">
                <label>Êí≠ÊîæÈÄüÂ∫¶:</label>
                <select id="speedSelect">
                    <option value="0.5">0.5x</option>
                    <option value="1" selected>1x</option>
                    <option value="2">2x</option>
                    <option value="5">5x</option>
                </select>
            </div>
        </div>
        
        <div class="content">
            <div class="field-container">
                <canvas id="field" width="800" height="600"></canvas>
                <div class="timeline">
                    <div class="timeline-bar" id="timelineBar">
                        <div class="timeline-progress" id="timelineProgress"></div>
                        <div class="timeline-marker" id="timelineMarker"></div>
                    </div>
                    <div class="stats">
                        <div class="stat-box">
                            <div class="stat-value" id="currentTime">0</div>
                            <div class="stat-label">ÂΩìÂâçÊó∂Èó¥ (ms)</div>
                        </div>
                        <div class="stat-box">
                            <div class="stat-value" id="messageCount">0</div>
                            <div class="stat-label">Ê∂àÊÅØÊï∞Èáè</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="info-panel">
                <div class="info-card">
                    <h3>üìã Êú∫Âô®‰∫∫ÂàóË°®</h3>
                    <div class="robot-list" id="robotList"></div>
                </div>
                
                <div class="info-card">
                    <h3>üìä ÂΩìÂâçÁä∂ÊÄÅ</h3>
                    <div id="currentStatus">
                        <div class="info-row">
                            <span class="info-label">‰ΩçÁΩÆ:</span>
                            <span class="info-value" id="posInfo">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ÊúùÂêë:</span>
                            <span class="info-value" id="orientInfo">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ÁêÉ‰ΩçÁΩÆ:</span>
                            <span class="info-value" id="ballInfo">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ËßíËâ≤:</span>
                            <span class="info-value" id="roleInfo">-</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">ÂèØËßÅÂ∫¶:</span>
                            <span class="info-value" id="visInfo">-</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Êï∞ÊçÆÊ≥®ÂÖ•ÁÇπ - Python ËÑöÊú¨‰ºöÂ∞ÜËß£ÊûêÂêéÁöÑÊï∞ÊçÆÊõøÊç¢Âà∞ËøôÈáå
        const DATA = {
  "match_id": "20260129_002138",
  "team": {
    "team_name": "Team70",
    "robots": [
      {
        "robot_id": "1",
        "robot_name": "SimulatedNao",
        "team_number": "70",
        "match_time": "2026-01-29 00:21:38",
        "log_file": "team_comm_p1.txt",
        "messages": [
          {
            "type": "receive",
            "timestamp": 141161,
            "from_robot_id": 2,
            "position": {
              "x": -3280.0,
              "y": -350.0
            },
            "orientation": 0.13552,
            "ball": {
              "x": 3295.0,
              "y": -56.0
            },
            "ball_visibility": "0%",
            "role": "defender",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 4,
            "position": {
              "x": -1100.0,
              "y": 0.0
            },
            "orientation": -0.01232,
            "ball": {
              "x": 1106.0,
              "y": 18.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 3,
            "position": {
              "x": -2320.0,
              "y": 810.0
            },
            "orientation": -0.0615999,
            "ball": {
              "x": 2357.0,
              "y": -681.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 5,
            "position": {
              "x": -2310.0,
              "y": -810.0
            },
            "orientation": 0.0369599,
            "ball": {
              "x": 2344.0,
              "y": 694.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 145661,
            "from_robot_id": 3,
            "position": {
              "x": -2320.0,
              "y": 810.0
            },
            "orientation": -0.0615999,
            "ball": {
              "x": 2219.0,
              "y": -544.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": -443.0,
              "y": 1794.0
            }
          },
          {
            "type": "receive",
            "timestamp": 146153,
            "from_robot_id": 4,
            "position": {
              "x": -1070.0,
              "y": 140.0
            },
            "orientation": -0.16016,
            "ball": {
              "x": 431.0,
              "y": 506.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 146717,
            "from_robot_id": 5,
            "position": {
              "x": -2310.0,
              "y": -810.0
            },
            "orientation": 0.0369599,
            "ball": {
              "x": 1381.0,
              "y": 1757.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 147641,
            "from_robot_id": 4,
            "position": {
              "x": -990.0,
              "y": 230.0
            },
            "orientation": 0.923998,
            "ball": {
              "x": 669.0,
              "y": 1219.0
            },
            "ball_visibility": "0%",
            "role": "kickOffForward",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 147773,
            "from_robot_id": 3,
            "position": {
              "x": -2380.0,
              "y": 1120.0
            },
            "orientation": 0.480479,
            "ball": {
              "x": 906.0,
              "y": 56.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 894.0,
              "y": 731.0
            }
          },
          {
            "type": "receive",
            "timestamp": 148349,
            "from_robot_id": 2,
            "position": {
              "x": -2950.0,
              "y": -70.0
            },
            "orientation": 0.480479,
            "ball": {
              "x": 1882.0,
              "y": 1119.0
            },
            "ball_visibility": "0%",
            "role": "defender",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 149093,
            "from_robot_id": 3,
            "position": {
              "x": -2220.0,
              "y": 1460.0
            },
            "orientation": 0.652959,
            "ball": {
              "x": 519.0,
              "y": 181.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": 5,
            "walk_target": {
              "x": 681.0,
              "y": 381.0
            }
          },
          {
            "type": "receive",
            "timestamp": 150497,
            "from_robot_id": 5,
            "position": {
              "x": -2010.0,
              "y": -970.0
            },
            "orientation": 0.997918,
            "ball": {
              "x": 2494.0,
              "y": 1594.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": -6.0,
              "y": 331.0
            }
          },
          {
            "type": "receive",
            "timestamp": 150701,
            "from_robot_id": 4,
            "position": {
              "x": -590.0,
              "y": 440.0
            },
            "orientation": 1.39216,
            "ball": {
              "x": 1281.0,
              "y": 1669.0
            },
            "ball_visibility": "0%",
            "role": "kickOffForward",
            "pass_target": -1,
            "walk_target": {
              "x": 293.0,
              "y": -1569.0
            }
          },
          {
            "type": "receive",
            "timestamp": 152057,
            "from_robot_id": 3,
            "position": {
              "x": -2240.0,
              "y": 2060.0
            },
            "orientation": -0.11088,
            "ball": {
              "x": 231.0,
              "y": -31.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 156.0,
              "y": 181.0
            }
          }
        ]
      },
      {
        "robot_id": "2",
        "robot_name": "SimulatedNao",
        "team_number": "70",
        "match_time": "2026-01-29 00:21:38",
        "log_file": "team_comm_p2.txt",
        "messages": [
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 4,
            "position": {
              "x": -1100.0,
              "y": 0.0
            },
            "orientation": -0.01232,
            "ball": {
              "x": 1106.0,
              "y": 18.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 1,
            "position": {
              "x": -4040.0,
              "y": 10.0
            },
            "orientation": -0.0369599,
            "ball": {
              "x": 4045.0,
              "y": 181.0
            },
            "ball_visibility": "0%",
            "role": "goalkeeper",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 3,
            "position": {
              "x": -2320.0,
              "y": 810.0
            },
            "orientation": -0.0615999,
            "ball": {
              "x": 2357.0,
              "y": -681.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 5,
            "position": {
              "x": -2310.0,
              "y": -810.0
            },
            "orientation": 0.0369599,
            "ball": {
              "x": 2344.0,
              "y": 694.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 145661,
            "from_robot_id": 3,
            "position": {
              "x": -2320.0,
              "y": 810.0
            },
            "orientation": -0.0615999,
            "ball": {
              "x": 2219.0,
              "y": -544.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": -443.0,
              "y": 1794.0
            }
          },
          {
            "type": "receive",
            "timestamp": 146153,
            "from_robot_id": 4,
            "position": {
              "x": -1070.0,
              "y": 140.0
            },
            "orientation": -0.16016,
            "ball": {
              "x": 431.0,
              "y": 506.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 146717,
            "from_robot_id": 5,
            "position": {
              "x": -2310.0,
              "y": -810.0
            },
            "orientation": 0.0369599,
            "ball": {
              "x": 1381.0,
              "y": 1757.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 147617,
            "from_robot_id": 4,
            "position": {
              "x": -990.0,
              "y": 230.0
            },
            "orientation": 0.923998,
            "ball": {
              "x": 669.0,
              "y": 1219.0
            },
            "ball_visibility": "0%",
            "role": "kickOffForward",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 147761,
            "from_robot_id": 3,
            "position": {
              "x": -2380.0,
              "y": 1120.0
            },
            "orientation": 0.480479,
            "ball": {
              "x": 906.0,
              "y": 56.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 894.0,
              "y": 731.0
            }
          },
          {
            "type": "receive",
            "timestamp": 149081,
            "from_robot_id": 3,
            "position": {
              "x": -2220.0,
              "y": 1460.0
            },
            "orientation": 0.652959,
            "ball": {
              "x": 519.0,
              "y": 181.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": 5,
            "walk_target": {
              "x": 681.0,
              "y": 381.0
            }
          },
          {
            "type": "receive",
            "timestamp": 150497,
            "from_robot_id": 5,
            "position": {
              "x": -2010.0,
              "y": -970.0
            },
            "orientation": 0.997918,
            "ball": {
              "x": 2494.0,
              "y": 1594.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": -6.0,
              "y": 331.0
            }
          },
          {
            "type": "receive",
            "timestamp": 150701,
            "from_robot_id": 4,
            "position": {
              "x": -590.0,
              "y": 440.0
            },
            "orientation": 1.39216,
            "ball": {
              "x": 1281.0,
              "y": 1669.0
            },
            "ball_visibility": "0%",
            "role": "kickOffForward",
            "pass_target": -1,
            "walk_target": {
              "x": 293.0,
              "y": -1569.0
            }
          },
          {
            "type": "receive",
            "timestamp": 152069,
            "from_robot_id": 3,
            "position": {
              "x": -2240.0,
              "y": 2060.0
            },
            "orientation": -0.11088,
            "ball": {
              "x": 231.0,
              "y": -31.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 156.0,
              "y": 181.0
            }
          }
        ]
      },
      {
        "robot_id": "3",
        "robot_name": "SimulatedNao",
        "team_number": "70",
        "match_time": "2026-01-29 00:21:38",
        "log_file": "team_comm_p3.txt",
        "messages": [
          {
            "type": "receive",
            "timestamp": 141161,
            "from_robot_id": 2,
            "position": {
              "x": -3280.0,
              "y": -350.0
            },
            "orientation": 0.13552,
            "ball": {
              "x": 3295.0,
              "y": -56.0
            },
            "ball_visibility": "0%",
            "role": "defender",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 4,
            "position": {
              "x": -1100.0,
              "y": 0.0
            },
            "orientation": -0.01232,
            "ball": {
              "x": 1106.0,
              "y": 18.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 1,
            "position": {
              "x": -4040.0,
              "y": 10.0
            },
            "orientation": -0.0369599,
            "ball": {
              "x": 4045.0,
              "y": 181.0
            },
            "ball_visibility": "0%",
            "role": "goalkeeper",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 5,
            "position": {
              "x": -2310.0,
              "y": -810.0
            },
            "orientation": 0.0369599,
            "ball": {
              "x": 2344.0,
              "y": 694.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 146153,
            "from_robot_id": 4,
            "position": {
              "x": -1070.0,
              "y": 140.0
            },
            "orientation": -0.16016,
            "ball": {
              "x": 431.0,
              "y": 506.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 146705,
            "from_robot_id": 5,
            "position": {
              "x": -2310.0,
              "y": -810.0
            },
            "orientation": 0.0369599,
            "ball": {
              "x": 1381.0,
              "y": 1757.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 147641,
            "from_robot_id": 4,
            "position": {
              "x": -990.0,
              "y": 230.0
            },
            "orientation": 0.923998,
            "ball": {
              "x": 669.0,
              "y": 1219.0
            },
            "ball_visibility": "0%",
            "role": "kickOffForward",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 148349,
            "from_robot_id": 2,
            "position": {
              "x": -2950.0,
              "y": -70.0
            },
            "orientation": 0.480479,
            "ball": {
              "x": 1882.0,
              "y": 1119.0
            },
            "ball_visibility": "0%",
            "role": "defender",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 150473,
            "from_robot_id": 5,
            "position": {
              "x": -2010.0,
              "y": -970.0
            },
            "orientation": 0.997918,
            "ball": {
              "x": 2494.0,
              "y": 1594.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": -6.0,
              "y": 331.0
            }
          },
          {
            "type": "receive",
            "timestamp": 150701,
            "from_robot_id": 4,
            "position": {
              "x": -590.0,
              "y": 440.0
            },
            "orientation": 1.39216,
            "ball": {
              "x": 1281.0,
              "y": 1669.0
            },
            "ball_visibility": "0%",
            "role": "kickOffForward",
            "pass_target": -1,
            "walk_target": {
              "x": 293.0,
              "y": -1569.0
            }
          }
        ]
      },
      {
        "robot_id": "4",
        "robot_name": "SimulatedNao",
        "team_number": "70",
        "match_time": "2026-01-29 00:21:38",
        "log_file": "team_comm_p4.txt",
        "messages": [
          {
            "type": "receive",
            "timestamp": 141161,
            "from_robot_id": 2,
            "position": {
              "x": -3280.0,
              "y": -350.0
            },
            "orientation": 0.13552,
            "ball": {
              "x": 3295.0,
              "y": -56.0
            },
            "ball_visibility": "0%",
            "role": "defender",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 1,
            "position": {
              "x": -4040.0,
              "y": 10.0
            },
            "orientation": -0.0369599,
            "ball": {
              "x": 4045.0,
              "y": 181.0
            },
            "ball_visibility": "0%",
            "role": "goalkeeper",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 3,
            "position": {
              "x": -2320.0,
              "y": 810.0
            },
            "orientation": -0.0615999,
            "ball": {
              "x": 2357.0,
              "y": -681.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 5,
            "position": {
              "x": -2310.0,
              "y": -810.0
            },
            "orientation": 0.0369599,
            "ball": {
              "x": 2344.0,
              "y": 694.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 145661,
            "from_robot_id": 3,
            "position": {
              "x": -2320.0,
              "y": 810.0
            },
            "orientation": -0.0615999,
            "ball": {
              "x": 2219.0,
              "y": -544.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": -443.0,
              "y": 1794.0
            }
          },
          {
            "type": "receive",
            "timestamp": 146717,
            "from_robot_id": 5,
            "position": {
              "x": -2310.0,
              "y": -810.0
            },
            "orientation": 0.0369599,
            "ball": {
              "x": 1381.0,
              "y": 1757.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 147773,
            "from_robot_id": 3,
            "position": {
              "x": -2380.0,
              "y": 1120.0
            },
            "orientation": 0.480479,
            "ball": {
              "x": 906.0,
              "y": 56.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 894.0,
              "y": 731.0
            }
          },
          {
            "type": "receive",
            "timestamp": 148349,
            "from_robot_id": 2,
            "position": {
              "x": -2950.0,
              "y": -70.0
            },
            "orientation": 0.480479,
            "ball": {
              "x": 1882.0,
              "y": 1119.0
            },
            "ball_visibility": "0%",
            "role": "defender",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 149081,
            "from_robot_id": 3,
            "position": {
              "x": -2220.0,
              "y": 1460.0
            },
            "orientation": 0.652959,
            "ball": {
              "x": 519.0,
              "y": 181.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": 5,
            "walk_target": {
              "x": 681.0,
              "y": 381.0
            }
          },
          {
            "type": "receive",
            "timestamp": 150497,
            "from_robot_id": 5,
            "position": {
              "x": -2010.0,
              "y": -970.0
            },
            "orientation": 0.997918,
            "ball": {
              "x": 2494.0,
              "y": 1594.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": -6.0,
              "y": 331.0
            }
          },
          {
            "type": "receive",
            "timestamp": 152057,
            "from_robot_id": 3,
            "position": {
              "x": -2240.0,
              "y": 2060.0
            },
            "orientation": -0.11088,
            "ball": {
              "x": 231.0,
              "y": -31.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 156.0,
              "y": 181.0
            }
          }
        ]
      },
      {
        "robot_id": "5",
        "robot_name": "SimulatedNao",
        "team_number": "70",
        "match_time": "2026-01-29 00:21:38",
        "log_file": "team_comm_p5.txt",
        "messages": [
          {
            "type": "receive",
            "timestamp": 141161,
            "from_robot_id": 2,
            "position": {
              "x": -3280.0,
              "y": -350.0
            },
            "orientation": 0.13552,
            "ball": {
              "x": 3295.0,
              "y": -56.0
            },
            "ball_visibility": "0%",
            "role": "defender",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 4,
            "position": {
              "x": -1100.0,
              "y": 0.0
            },
            "orientation": -0.01232,
            "ball": {
              "x": 1106.0,
              "y": 18.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 1,
            "position": {
              "x": -4040.0,
              "y": 10.0
            },
            "orientation": -0.0369599,
            "ball": {
              "x": 4045.0,
              "y": 181.0
            },
            "ball_visibility": "0%",
            "role": "goalkeeper",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 141173,
            "from_robot_id": 3,
            "position": {
              "x": -2320.0,
              "y": 810.0
            },
            "orientation": -0.0615999,
            "ball": {
              "x": 2357.0,
              "y": -681.0
            },
            "ball_visibility": "0%",
            "role": "midfielder",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 145661,
            "from_robot_id": 3,
            "position": {
              "x": -2320.0,
              "y": 810.0
            },
            "orientation": -0.0615999,
            "ball": {
              "x": 2219.0,
              "y": -544.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": -443.0,
              "y": 1794.0
            }
          },
          {
            "type": "receive",
            "timestamp": 146153,
            "from_robot_id": 4,
            "position": {
              "x": -1070.0,
              "y": 140.0
            },
            "orientation": -0.16016,
            "ball": {
              "x": 431.0,
              "y": 506.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 147641,
            "from_robot_id": 4,
            "position": {
              "x": -990.0,
              "y": 230.0
            },
            "orientation": 0.923998,
            "ball": {
              "x": 669.0,
              "y": 1219.0
            },
            "ball_visibility": "0%",
            "role": "kickOffForward",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 147773,
            "from_robot_id": 3,
            "position": {
              "x": -2380.0,
              "y": 1120.0
            },
            "orientation": 0.480479,
            "ball": {
              "x": 906.0,
              "y": 56.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 894.0,
              "y": 731.0
            }
          },
          {
            "type": "receive",
            "timestamp": 148349,
            "from_robot_id": 2,
            "position": {
              "x": -2950.0,
              "y": -70.0
            },
            "orientation": 0.480479,
            "ball": {
              "x": 1882.0,
              "y": 1119.0
            },
            "ball_visibility": "0%",
            "role": "defender",
            "pass_target": -1,
            "walk_target": {
              "x": 6.0,
              "y": 6.0
            }
          },
          {
            "type": "receive",
            "timestamp": 149093,
            "from_robot_id": 3,
            "position": {
              "x": -2220.0,
              "y": 1460.0
            },
            "orientation": 0.652959,
            "ball": {
              "x": 519.0,
              "y": 181.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": 5,
            "walk_target": {
              "x": 681.0,
              "y": 381.0
            }
          },
          {
            "type": "receive",
            "timestamp": 150701,
            "from_robot_id": 4,
            "position": {
              "x": -590.0,
              "y": 440.0
            },
            "orientation": 1.39216,
            "ball": {
              "x": 1281.0,
              "y": 1669.0
            },
            "ball_visibility": "0%",
            "role": "kickOffForward",
            "pass_target": -1,
            "walk_target": {
              "x": 293.0,
              "y": -1569.0
            }
          },
          {
            "type": "receive",
            "timestamp": 152057,
            "from_robot_id": 3,
            "position": {
              "x": -2240.0,
              "y": 2060.0
            },
            "orientation": -0.11088,
            "ball": {
              "x": 231.0,
              "y": -31.0
            },
            "ball_visibility": "0%",
            "role": "playBall",
            "pass_target": -1,
            "walk_target": {
              "x": 156.0,
              "y": 181.0
            }
          }
        ]
      }
    ]
  }
};
        
        // ÂèØËßÜÂåñÊéßÂà∂Âô®
        class SimRobotViewer {
            constructor(data) {
                this.data = data;
                this.canvas = document.getElementById('field');
                this.ctx = this.canvas.getContext('2d');
                this.currentRobotIndex = 0;
                this.currentMessageIndex = 0;
                this.isPlaying = false;
                this.playbackSpeed = 1;
                this.animationFrame = null;
                
                this.init();
            }
            
            init() {
                this.setupUI();
                this.setupEventListeners();
                this.drawField();
                this.selectRobot(0);
            }
            
            setupUI() {
                const robotSelect = document.getElementById('robotSelect');
                const robotList = document.getElementById('robotList');
                
                this.data.team.robots.forEach((robot, index) => {
                    // ‰∏ãÊãâÈÄâÊã©
                    const option = document.createElement('option');
                    option.value = index;
                    option.textContent = `Êú∫Âô®‰∫∫ ${robot.robot_id} (${robot.messages.length} Êù°Ê∂àÊÅØ)`;
                    robotSelect.appendChild(option);
                    
                    // ÂàóË°®È°π
                    const item = document.createElement('div');
                    item.className = 'robot-item';
                    item.textContent = `ü§ñ ${robot.robot_id} Âè∑`;
                    item.onclick = () => this.selectRobot(index);
                    robotList.appendChild(item);
                });
            }
            
            setupEventListeners() {
                document.getElementById('robotSelect').onchange = (e) => {
                    this.selectRobot(parseInt(e.target.value));
                };
                
                document.getElementById('playBtn').onclick = () => this.play();
                document.getElementById('pauseBtn').onclick = () => this.pause();
                document.getElementById('resetBtn').onclick = () => this.reset();
                
                document.getElementById('speedSelect').onchange = (e) => {
                    this.playbackSpeed = parseFloat(e.target.value);
                };
                
                document.getElementById('timelineBar').onclick = (e) => {
                    const rect = e.target.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const percent = x / rect.width;
                    this.seekTo(percent);
                };
            }
            
            selectRobot(index) {
                this.pause();
                this.currentRobotIndex = index;
                this.currentMessageIndex = 0;
                
                // Êõ¥Êñ∞ UI
                document.querySelectorAll('.robot-item').forEach((item, i) => {
                    item.classList.toggle('active', i === index);
                });
                document.getElementById('robotSelect').value = index;
                
                this.updateDisplay();
            }
            
            play() {
                this.isPlaying = true;
                this.animate();
            }
            
            pause() {
                this.isPlaying = false;
                if (this.animationFrame) {
                    cancelAnimationFrame(this.animationFrame);
                }
            }
            
            reset() {
                this.pause();
                this.currentMessageIndex = 0;
                this.updateDisplay();
            }
            
            seekTo(percent) {
                const robot = this.data.team.robots[this.currentRobotIndex];
                this.currentMessageIndex = Math.floor(robot.messages.length * percent);
                this.updateDisplay();
            }
            
            animate() {
                if (!this.isPlaying) return;
                
                const robot = this.data.team.robots[this.currentRobotIndex];
                if (this.currentMessageIndex < robot.messages.length - 1) {
                    this.currentMessageIndex++;
                    this.updateDisplay();
                    
                    const delay = 100 / this.playbackSpeed;
                    setTimeout(() => {
                        this.animationFrame = requestAnimationFrame(() => this.animate());
                    }, delay);
                } else {
                    this.pause();
                }
            }
            
            updateDisplay() {
                const robot = this.data.team.robots[this.currentRobotIndex];
                const message = robot.messages[this.currentMessageIndex];
                
                if (!message) return;
                
                // Êõ¥Êñ∞Âú∫Âú∞ÊòæÁ§∫
                this.drawField();
                this.drawRobot(message);
                this.drawBall(message);
                
                // Êõ¥Êñ∞‰ø°ÊÅØÈù¢Êùø
                document.getElementById('posInfo').textContent = 
                    `(${message.position.x.toFixed(0)}, ${message.position.y.toFixed(0)})`;
                document.getElementById('orientInfo').textContent = 
                    message.orientation.toFixed(3);
                document.getElementById('ballInfo').textContent = 
                    `(${message.ball.x.toFixed(0)}, ${message.ball.y.toFixed(0)})`;
                document.getElementById('roleInfo').textContent = message.role;
                document.getElementById('visInfo').textContent = message.ball_visibility;
                
                // Êõ¥Êñ∞Êó∂Èó¥ËΩ¥
                const progress = (this.currentMessageIndex / robot.messages.length) * 100;
                document.getElementById('timelineProgress').style.width = progress + '%';
                document.getElementById('timelineMarker').style.left = progress + '%';
                document.getElementById('currentTime').textContent = message.timestamp;
                document.getElementById('messageCount').textContent = 
                    `${this.currentMessageIndex + 1} / ${robot.messages.length}`;
            }
            
            drawField() {
                const ctx = this.ctx;
                const w = this.canvas.width;
                const h = this.canvas.height;
                
                // Ê∏ÖÁ©∫ÁîªÂ∏É
                ctx.fillStyle = '#2d5016';
                ctx.fillRect(0, 0, w, h);
                
                // ÁªòÂà∂Âú∫Âú∞Á∫øÊù°
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                
                // ‰∏≠Á∫ø
                ctx.beginPath();
                ctx.moveTo(w/2, 0);
                ctx.lineTo(w/2, h);
                ctx.stroke();
                
                // ‰∏≠Âúà
                ctx.beginPath();
                ctx.arc(w/2, h/2, 60, 0, Math.PI * 2);
                ctx.stroke();
                
                // Á¶ÅÂå∫
                ctx.strokeRect(20, h/2 - 100, 80, 200);
                ctx.strokeRect(w - 100, h/2 - 100, 80, 200);
                
                // ÁêÉÈó®
                ctx.fillStyle = 'yellow';
                ctx.fillRect(0, h/2 - 40, 20, 80);
                ctx.fillRect(w - 20, h/2 - 40, 20, 80);
            }
            
            drawRobot(message) {
                const ctx = this.ctx;
                const w = this.canvas.width;
                const h = this.canvas.height;
                
                // ËΩ¨Êç¢ÂùêÊ†á (Âú∫Âú∞ÂùêÊ†á -> ÁîªÂ∏ÉÂùêÊ†á)
                const x = (message.position.x + 4500) / 9000 * w;
                const y = (message.position.y + 3000) / 6000 * h;
                
                // ÁªòÂà∂Êú∫Âô®‰∫∫
                ctx.fillStyle = '#667eea';
                ctx.beginPath();
                ctx.arc(x, y, 15, 0, Math.PI * 2);
                ctx.fill();
                
                // ÁªòÂà∂ÊúùÂêë
                const dirX = x + Math.cos(message.orientation) * 25;
                const dirY = y + Math.sin(message.orientation) * 25;
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(x, y);
                ctx.lineTo(dirX, dirY);
                ctx.stroke();
                
                // ÁªòÂà∂Êú∫Âô®‰∫∫ÁºñÂè∑
                ctx.fillStyle = 'white';
                ctx.font = 'bold 14px Arial';
                ctx.textAlign = 'center';
                ctx.fillText(message.robot_id || message.from_robot_id, x, y - 25);
            }
            
            drawBall(message) {
                const ctx = this.ctx;
                const w = this.canvas.width;
                const h = this.canvas.height;
                
                // ËΩ¨Êç¢ÂùêÊ†á
                const x = (message.ball.x + 4500) / 9000 * w;
                const y = (message.ball.y + 3000) / 6000 * h;
                
                // ÁªòÂà∂ÁêÉ
                ctx.fillStyle = 'orange';
                ctx.beginPath();
                ctx.arc(x, y, 8, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.strokeStyle = 'white';
                ctx.lineWidth = 2;
                ctx.stroke();
            }
        }
        
        // ÂêØÂä®Â∫îÁî®
        const viewer = new SimRobotViewer(DATA);
    </script>
</body>
</html>
